(function(){"use strict";var e={7338:function(e,t,a){var n=a(144),s=a(1096),r=a(3551),o=function(){var e=this,t=e._self._c;return t(s.Z,[t("AppHeader"),t(r.Z,[t("SearchResult")],1),t("AppFooter")],1)},i=[],c=a(6035),l=a(3593),u=function(){var e=this,t=e._self._c;return t(c.Z,{staticClass:"mt-4"},[e.noResults?[t("NoResults")]:e.packages&&e.packages.length>0?[e._l(e.packages,(function(e,a){return t("PackageItem",{key:"package-"+a,attrs:{item:e}})})),e.paginationLength>0?t("AppPagiantion"):e._e()]:[t("WelcomeText")],t(l.Z,{attrs:{"content-class":"elevation-5","overlay-opacity":".08",width:"800"},model:{value:e.isShownPackageDialog,callback:function(t){e.isShownPackageDialog=t},expression:"isShownPackageDialog"}},[t("PackageDialog")],1)],2)},g=[],p=a(7033),d=a(3823),h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination text-center"},[t(d.Z,{attrs:{length:e.paginationLength,"total-visible":5},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},f=[],m={name:"AppPagination",computed:{currentPage:(0,p.Z_)("currentPage"),paginationLength(){return Math.round(this.$store.get("totalResults")/this.$store.get("limit"))}},watch:{currentPage:{handler(){this.$store.dispatch("fetchPackages")}}}},k=m,v=a(1001),_=(0,v.Z)(k,h,f,!1,null,null,null),y=_.exports,P=a(1828),Z=a(9781),b=a(5223),x=a(4944),w=a(5057),C=a(1908),S=a(3032),D=a(8228),L=a(8178),$=a(5234),R=function(){var e=this,t=e._self._c;return t("div",{staticClass:"package-dialog"},[e.isLoading?t(Z.Z,[t(b.ZB,[t(L.Z,{attrs:{elevation:"",type:"table-heading, article, article"}})],1)],1):t(Z.Z,[t(b.EB,{staticClass:"text-h5 grey lighten-2"},[e._v(" "+e._s(e.currentPackage.name)+" "),t($.Z),t(P.Z,{attrs:{icon:""},on:{click:e.closeDialog}},[t(w.Z,[e._v("mdi-close")])],1)],1),t(b.ZB,[e.currentPackage.author?t(C.Z,[t(D.Z,[t(w.Z,{domProps:{textContent:e._s("mdi-account")}})],1),t(S.km,[t(S.V9,[e._v(e._s(e.currentPackage.author.name))])],1)],1):e._e(),e.currentPackage.author&&e.currentPackage.author.email?t(C.Z,[t(D.Z,[t(w.Z,{domProps:{textContent:e._s("mdi-email-outline")}})],1),t(S.km,[t(S.V9,[e._v(e._s(e.currentPackage.author.email))])],1)],1):e._e(),e.currentPackage.description?t(C.Z,[t(D.Z,[t(w.Z,{domProps:{textContent:e._s("mdi-text")}})],1),t(S.km,[t(S.V9,[e._v(" "+e._s(e.currentPackage.description)+" ")])],1)],1):e._e(),e.currentPackage.keywords?t(C.Z,[t(S.km,[t(S.V9,{staticClass:"mb-2"},[t("strong",[e._v("Keywords:")])]),t("div",{staticClass:"d-flex flex-wrap"},e._l(e.currentPackage.keywords,(function(a,n){return t("div",{key:n},[t(x.Z,{staticClass:"mr-2 mb-2",attrs:{label:""},on:{click:function(t){return e.searchByKeywords(a)}}},[e._v(" "+e._s(a)+" ")])],1)})),0)],1)],1):e._e(),e.currentPackage.readme?t(C.Z,[t(S.km,[t(S.V9,[t("strong",[e._v("Readme:")])]),t("div",{domProps:{innerHTML:e._s(e.currentPackage.readme)}})],1)],1):e._e()],1)],1)],1)},j=[],O={name:"PackageDialog",computed:{currentPackage:(0,p.U2)("currentPackage"),packageDialog:(0,p.U2)("packageDialog"),isLoading:(0,p.U2)("isLoading")},methods:{closeDialog(){this.$store.commit("togglePackageDialog",!1)},searchByKeywords(e){this.closeDialog(),this.$store.commit("setSearchQuery",`keywords:${e}`),this.$store.dispatch("fetchPackages")}}},A=O,Q=(0,v.Z)(A,R,j,!1,null,null,null),U=Q.exports,B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-md-flex pa-4 mb-4 package"},[t("div",{staticClass:"package-content flex-grow-1"},[t("div",{staticClass:"package-title"},[t("span",{staticClass:"link-text text-h6",on:{click:function(t){return e.showModal(e.packageInfo.name)}}},[e._v(" "+e._s(e.packageInfo.name)+" ")])]),t("div",{staticClass:"package-description"},[t("span",{staticClass:"grey--text text--darken-1 subtitle-1"},[e._v(" "+e._s(e.packageInfo.description)+" ")])]),t("div",{staticClass:"package-keywords d-flex flex-wrap my-2"},e._l(e.packageInfo.keywords,(function(a,n){return t("div",{key:n},[t(x.Z,{staticClass:"mr-2 mb-2",attrs:{label:""},on:{click:function(t){return e.searchByKeywords(a)}}},[e._v(" "+e._s(a)+" ")])],1)})),0),t("div",{staticClass:"package-publisher"},[t("span",{staticClass:"subtitle-2"},[e._v(" "+e._s(e.packageInfo.publisher.username)+" ")]),t("span",{staticClass:"body-2"},[e._v(" published "+e._s(e.packageInfo.version)+" ")])])]),t("div",{staticClass:"package-score flex-shrink-0 d-flex align-center my-4"},[t("div",{staticClass:"package-score-inner d-flex justify-space-between flex-column"},e._l(e.scoreDetails,(function(a,n){return t("div",{key:"score-details-"+n,staticClass:"d-flex"},[t("div",{staticClass:"package-score-title pr-2"},[e._v(e._s(n.charAt(0)))]),t("div",{staticClass:"package-score-progress",style:`background-color: ${e.getColorHash(n)} ;transform: scaleX(${a});`})])})),0)])])},F=[],I={name:"AppContainer",props:{item:Object,default:{}},computed:{packageInfo(){return this.item.package},scoreDetails(){return this.item.score?.detail}},methods:{showModal(e){this.$store.commit("togglePackageDialog",!0),this.$store.dispatch("fetchPackageByName",e)},searchByKeywords(e){this.$store.commit("setSearchQuery",`keywords:${e}`),this.$store.dispatch("fetchPackages")},getColorHash(e){const t={quality:"#8956ff",popularity:"#29abe2",maintenance:"#cb3837"};return t[e]||""}}},M=I,T=(0,v.Z)(M,B,F,!1,null,null,null),H=T.exports,K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"no-results d-flex align-center flex-column"},[t("img",{attrs:{src:a(1834),width:270,height:148}}),t("p",{staticClass:"font-weight-bold my-6"},[e._v(" No results found ")])])},N=[],V={},q=(0,v.Z)(V,K,N,!1,null,null,null),z=q.exports,E=a(4437),W=a(5294),G=function(){var e=this,t=e._self._c;return t(c.Z,[t(W.Z,[t(E.Z,{staticClass:"text-center"},[t("h1",[e._v("Start searching for npm packages")]),t("p",[e._v("Discover and explore npm packages by entering your search query above.")])])],1)],1)},J=[],X={},Y=(0,v.Z)(X,G,J,!1,null,null,null),ee=Y.exports,te={name:"AppContainer",components:{AppPagiantion:y,PackageDialog:U,PackageItem:H,NoResults:z,WelcomeText:ee},computed:{searchQuery:(0,p.U2)("searchQuery"),packages:(0,p.U2)("packages"),packageDialog:(0,p.U2)("packageDialog"),paginationLength:(0,p.U2)("paginationLength"),noResults:(0,p.U2)("noResults"),isShownPackageDialog:{get(){return this.packageDialog},set(e){this.$store.commit("togglePackageDialog",e)}}}},ae=te,ne=(0,v.Z)(ae,u,g,!1,null,null,null),se=ne.exports,re=a(1392),oe=a(1302),ie=function(){var e=this,t=e._self._c;return t(re.Z,{attrs:{app:"",color:"primary",dark:""}},[t(c.Z,[t("div",{staticClass:"d-flex"},[t("div",{staticClass:"d-flex align-center"},[t(P.Z,{staticClass:"px-1 px-md-2 mr-4",attrs:{href:"/",text:""}},[t(w.Z,[e._v("mdi-package-variant")]),t("span",{staticClass:"ml-2"},[e._v("JsDelivr")])],1)],1),t(oe.Z,{attrs:{active:e.isLoading,indeterminate:e.isLoading,absolute:"",bottom:"",color:"teal lighten-3"}}),t($.Z),t("SearchField"),t($.Z),t(P.Z,{staticClass:"px-1 px-md-2 hidden-sm-and-down",attrs:{href:"https://github.com/Forbik/forb-jsdelivr",target:"_blank",text:""}},[t("span",{staticClass:"mr-2"},[e._v("GitHub repo")]),t(w.Z,{attrs:{size:"large"}},[e._v("mdi-open-in-new")])],1)],1)])],1)},ce=[],le=a(9510),ue=function(){var e=this,t=e._self._c;return t(le.Z,{attrs:{dense:"",label:"Search packages","prepend-inner-icon":"mdi-magnify",outlined:"","single-line":"","hide-details":""},on:{input:e.handleSearch},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})},ge=[],pe=a(6486),de={name:"SearchField",computed:{search:(0,p.Z_)("searchQuery")},watch:{search(e){""===e&&this.$store.commit("clearSearchResult")}},methods:{handleSearch:(0,pe.debounce)((function(e){e&&this.search.length>0&&this.$store.dispatch("fetchPackages")}),500)}},he=de,fe=(0,v.Z)(he,ue,ge,!1,null,null,null),me=fe.exports,ke={name:"AppHeader",components:{SearchField:me},computed:{isLoading:(0,p.U2)("isLoading")}},ve=ke,_e=(0,v.Z)(ve,ie,ce,!1,null,null,null),ye=_e.exports,Pe=a(3584),Ze=function(){var e=this,t=e._self._c;return t(Pe.Z,{attrs:{absolute:"",inset:"",app:"",color:"grey lighten-3"}},[t(c.Z,{staticClass:"text-center pa-3"},[t("strong",[e._v("Â© Oleksandr Semenov")]),e._v(", "+e._s((new Date).getFullYear())+" ")])],1)},be=[],xe={name:"AppFooter"},we=xe,Ce=(0,v.Z)(we,Ze,be,!1,null,null,null),Se=Ce.exports,De={name:"App",components:{SearchResult:se,AppHeader:ye,AppFooter:Se}},Le=De,$e=(0,v.Z)(Le,o,i,!1,null,null,null),Re=$e.exports,je=a(629),Oe=a(5121);a(8858),a(1318),a(3228);const Ae="https://registry.npmjs.org/",Qe=(e,t)=>{const a=new URLSearchParams(t).toString();return`${Ae}${e}?${a}`},Ue=()=>({packages:[],searchQuery:"",currentPackage:[],packageDialog:!1,currentPage:1,limit:10,totalResults:0,paginationLength:0,noResults:!1,isLoading:!1}),Be={state:Ue,mutations:{...p.Sy.mutations(Ue),setPackages:(e,t)=>{e.packages=t.objects,e.totalResults=t.total,e.paginationLength=Math.round(t.total/e.limit),e.noResults=0===t.total},setSearchQuery:(e,t)=>{e.searchQuery=t},setCurrentPackage:(e,t)=>{e.currentPackage=t},clearSearchResult:e=>{e.searchQuery="",e.packages=[],e.totalResults=0,e.paginationLength=0,e.noResults=!1},toggleLoadingState:(e,t)=>{e.isLoading=t},togglePackageDialog:(e,t)=>{e.packageDialog=t}},actions:{async fetchPackages({commit:e,state:t}){e("toggleLoadingState",!0);try{const a=Qe("-/v1/search",{text:t.searchQuery,size:t.limit,from:(t.currentPage-1)*t.limit}),n=await Oe.Z.get(a);e("setPackages",n.data),e("toggleLoadingState",!1)}catch(a){e("toggleLoadingState",!1),console.warn(a)}},async fetchPackageByName({commit:e},t){e("toggleLoadingState",!0);try{const a=Qe(t),n=await Oe.Z.get(a);e("setCurrentPackage",n.data),e("toggleLoadingState",!1)}catch(a){e("toggleLoadingState",!1),console.warn(a)}}}};n.ZP.use(je.ZP);var Fe=new je.ZP.Store({plugins:[p.ZP.plugin],...Be}),Ie=a(3806);n.ZP.use(Ie.Z);var Me=new Ie.Z({});n.ZP.config.productionTip=!1,new n.ZP({vuetify:Me,render:e=>e(Re),store:Fe}).$mount("#app")},1834:function(e,t,a){e.exports=a.p+"img/no-results.5ee0e369.svg"}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,r){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],r=e[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/forb-jsdelivr/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,o=n[0],i=n[1],c=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(c)var u=c(a)}for(t&&t(n);l<o.length;l++)r=o[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=self["webpackChunkforb_jsdelivr"]=self["webpackChunkforb_jsdelivr"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(7338)}));n=a.O(n)})();
//# sourceMappingURL=app.4e2eb788.js.map